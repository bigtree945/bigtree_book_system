"use strict";(self["webpackChunkbigtree_book_system"]=self["webpackChunkbigtree_book_system"]||[]).push([[778],{1778:function(e,t,l){l.r(t),l.d(t,{default:function(){return u}});var a=function(){var e=this,t=e._self._c;return t("div",[t("main-header",{attrs:{title:e.title}}),t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e._v(" 编辑医生信息 ")]),t("el-form",{ref:"ruleForm",attrs:{"label-position":"left","label-width":"110px",model:e.doctor,rules:e.rules}},[t("el-form-item",{staticClass:"require",attrs:{label:"医生姓名",prop:"name"}},[t("el-input",{model:{value:e.doctor.name,callback:function(t){e.$set(e.doctor,"name",t)},expression:"doctor.name"}})],1),t("el-form-item",{staticClass:"require",attrs:{label:"上传照片",prop:"imageUrl"}},[t("el-upload",{staticClass:"avatar-uploader",attrs:{action:"http://localhost:8080/mock/uploader","on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.doctor.imageUrl?t("img",{staticClass:"avatar",attrs:{src:e.doctor.imageUrl}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),t("el-form-item",{staticClass:"require",attrs:{label:"所属院区",prop:"region"}},[t("el-select",{attrs:{placeholder:"请选择院区"},model:{value:e.doctor.region,callback:function(t){e.$set(e.doctor,"region",t)},expression:"doctor.region"}},e._l(e.regionOptions,(function(e){return t("el-option",{key:e.region,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{staticClass:"require",attrs:{label:"所属科室",prop:"department"}},[t("el-cascader",{attrs:{options:e.departmentOptions,placeholder:"请选择科室"},model:{value:e.doctor.department,callback:function(t){e.$set(e.doctor,"department",t)},expression:"doctor.department"}})],1),t("el-form-item",{staticClass:"require",attrs:{label:"医生职称",prop:"title"}},[t("el-select",{attrs:{placeholder:"请选择医生职称"},model:{value:e.doctor.title,callback:function(t){e.$set(e.doctor,"title",t)},expression:"doctor.title"}},e._l(e.titleOptions,(function(e){return t("el-option",{key:e.region,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{attrs:{label:"医生标签"}},[t("el-select",{attrs:{multiple:"",placeholder:"请选择医生标签"},model:{value:e.doctor.tag,callback:function(t){e.$set(e.doctor,"tag",t)},expression:"doctor.tag"}},e._l(e.tagOptions,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{staticClass:"require",attrs:{label:"挂号费",prop:"bookFee"}},[t("el-input",{model:{value:e.doctor.bookFee,callback:function(t){e.$set(e.doctor,"bookFee",e._n(t))},expression:"doctor.bookFee"}})],1),t("el-form-item",{staticClass:"require",attrs:{label:"诊查费",prop:"checkFee"}},[t("el-input",{model:{value:e.doctor.checkFee,callback:function(t){e.$set(e.doctor,"checkFee",e._n(t))},expression:"doctor.checkFee"}})],1),t("el-form-item",{attrs:{label:"医生简介"}},[t("el-input",{attrs:{type:"textarea",rows:5,placeholder:"请输入内容"},model:{value:e.doctor.profile,callback:function(t){e.$set(e.doctor,"profile",t)},expression:"doctor.profile"}})],1),t("el-form-item",{attrs:{label:"医生状态",prop:"state"}},[t("el-switch",{attrs:{"active-color":"#006eff","inactive-color":"#ccc"},model:{value:e.doctor.state,callback:function(t){e.$set(e.doctor,"state",t)},expression:"doctor.state"}})],1),t("el-form-item",[t("el-button",{staticClass:"blue",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("保存")]),t("el-button",{attrs:{type:"primary",plain:""}},[e._v("取消")])],1)],1)],1)],1)},r=[],o={name:"Edit",data(){return{title:{text:"编辑医生信息"},doctor:{name:"",imageUrl:"",region:"",department:"",title:"",tag:"",bookFee:"",checkFee:"",profile:"",state:!1},regionOptions:[{value:"东院区",label:"东院区"},{value:"南院区",label:"南院区"},{value:"西院区",label:"西院区"},{value:"北院区",label:"北院区"}],departmentOptions:[{value:"内科",label:"内科",children:[{value:"消化内科",label:"消化内科"},{value:"血液内科",label:"血液内科"},{value:"风湿免疫内科",label:"风湿免疫内科"},{value:"肾内科",label:"肾内科"}]},{value:"外科",label:"外科",children:[{value:"消化外科",label:"消化外科"},{value:"血液外科",label:"血液外科"},{value:"风湿免疫外科",label:"风湿免疫外科"},{value:"肾外科",label:"肾外科"}]}],titleOptions:[{value:"医士",label:"医士"},{value:"医师",label:"医师"},{value:"住院医师",label:"住院医师"},{value:"主治医师",label:"主治医师"},{value:"副主任医师",label:"副主任医师"},{value:"主任医师",label:"主任医师"}],tagOptions:[{value:"肝功能",label:"肝功能"},{value:"肾功能",label:"肾功能"},{value:"心脑血管",label:"心脑血管"},{value:"泌尿学科",label:"泌尿学科"},{value:"心脏病",label:"心脏病"}],rules:{name:[{required:!0,message:"请输入医生姓名",trigger:"blur"},{pattern:/^[\u4e00-\u9fa5]{2,4}$/,min:2,max:4,message:"必须为2-4个中文字符",trigger:"blur"}],region:[{required:!0,message:"请选择所属院区"}],department:[{required:!0,message:"请选择所属科室"}],title:[{required:!0,message:"请选择职称"}],bookFee:[{required:!0,message:"请输入挂号费",trigger:"blur"},{type:"number",message:"请输入数字",trigger:"blur"}],checkFee:[{required:!0,message:"请输入检查费",trigger:"blur"},{type:"number",message:"请输入数字",trigger:"blur"}]}}},mounted(){},methods:{handleAvatarSuccess(e,t){this.imageUrl=URL.createObjectURL(t.raw)},beforeAvatarUpload(e){const t="image/jpeg"===e.type,l=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),l||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&l},submitForm(e){this.$refs[e].validate((e=>{if(!e)return!1;this.$message({type:"success",message:"修改成功"}),this.$router.back()}))}}},s=o,i=l(1001),c=(0,i.Z)(s,a,r,!1,null,"7b52e87b",null),u=c.exports}}]);