"use strict";(self["webpackChunkbigtree_book_system"]=self["webpackChunkbigtree_book_system"]||[]).push([[538],{4538:function(e,t,a){a.r(t),a.d(t,{default:function(){return c}});var l=function(){var e=this,t=e._self._c;return t("div",[t("main-header",{attrs:{title:e.title}},[t("el-button",{attrs:{type:"danger"}},[e._v("删除")]),t("el-button",{attrs:{type:"primary"}},[e._v("新增医生信息")])],1),t("el-card",[t("el-form",{attrs:{inline:!0}},[t("el-form-item",[t("el-cascader",{attrs:{options:e.options,size:"medium",placeholder:"请选择科室"},model:{value:e.cascaderValue,callback:function(t){e.cascaderValue=t},expression:"cascaderValue"}})],1),t("el-form-item",[t("el-input",{staticClass:"search-input",attrs:{size:"medium",placeholder:"请输入医生姓名"},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.search}},[e._v("搜索")])],1)],1),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData.doctor,"cell-class-name":"cell-style","header-cell-class-name":"header-style",size:"mini"}},[t("el-table-column",{attrs:{type:"selection"}}),t("el-table-column",{attrs:{prop:"name",label:"医生姓名"}}),t("el-table-column",{attrs:{label:"医生头像"},scopedSlots:e._u([{key:"default",fn:function({row:e,$index:a}){return[t("el-avatar",{attrs:{icon:"el-icon-user-solid",size:"small"}})]}}])}),t("el-table-column",{attrs:{prop:"region",label:"院区"}}),t("el-table-column",{attrs:{prop:"title",label:"职称"}}),t("el-table-column",{attrs:{prop:"department",label:"科室",width:"200"}}),t("el-table-column",{attrs:{label:"标签",width:"250"},scopedSlots:e._u([{key:"default",fn:function({row:a,$index:l}){return e._l(a.tag,(function(a){return t("el-tag",{attrs:{type:a.type}},[e._v(e._s(a.disease))])}))}}])}),t("el-table-column",{attrs:{prop:"profile",label:"医生简介",width:"250","class-name":"profile"}}),t("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function({row:a,$index:l}){return[t("i",{staticClass:"iconfont icon-Editwritedraft",on:{click:function(t){return e.goEdit(a)}}}),t("i",{staticClass:"el-icon-delete-solid",on:{click:function(t){return e.deleteRow(a)}}})]}}])})],1),t("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,40,50],"page-size":e.pageSize,layout:"total, prev, pager, next, sizes, jumper,slot",total:e.tableData.total||0,"prev-text":"上一页","next-text":"下一页"},on:{"current-change":e.getData,"size-change":e.handleSizeChange}},[t("el-button",[e._v("确定")])],1)],1)],1)},s=[],i=(a(7658),{name:"DoctorManagement",data(){return{title:{text:"医生管理",showButtons:!0},cascaderValue:[],options:[{value:"内科",label:"内科",children:[{value:"消化内科",label:"消化内科"},{value:"血液内科",label:"血液内科"},{value:"风湿免疫内科",label:"风湿免疫内科"},{value:"肾内科",label:"肾内科"}]},{value:"外科",label:"外科",children:[{value:"消化外科",label:"消化外科"},{value:"血液外科",label:"血液外科"},{value:"风湿免疫外科",label:"风湿免疫外科"},{value:"肾外科",label:"肾外科"}]}],inputValue:"",tableData:{},currentPage:1,pageSize:10}},mounted(){this.getData()},methods:{async getData(e=1,t){this.currentPage=e;let a=await this.$api.getDoctor({currentPage:this.currentPage,pageSize:this.pageSize,total:t});200==a.code&&(this.tableData=a.data)},async search(){if(""==this.cascaderValue&&""==this.inputValue)return this.$message({type:"warning",message:"请输入内容"});let e=await this.$api.search({cascaderValue:this.cascaderValue,inputValue:this.inputValue});200==e.code&&(this.tableData=e.data),this.cascaderValue=[],this.inputValue=""},goEdit(e){this.$router.push({name:"edit",params:{id:e.id}})},deleteRow(e){this.$confirm('<div>\n            <div class="delete-confirm">删除确认</div>\n            <div class="tip">删除后无法恢复，确定要删除此条信息吗?</div>\n        </div>',{confirmButtonText:"确定",cancelButtonText:"取消",iconClass:"iconfont icon-confirm blue",customClass:"confine-width",center:!0,showClose:!1,dangerouslyUseHTMLString:!0}).then((()=>{this.getData(this.currentPage,1),this.$message({type:"success",message:"删除成功"})})).catch((e=>{console.log(e),this.$message({type:"info",message:"已取消删除"})}))},handleSizeChange(e){this.pageSize=e,this.getData()}}}),n=i,r=a(1001),o=(0,r.Z)(n,l,s,!1,null,"745ffd3a",null),c=o.exports}}]);